"use strict";(function($){var min=false;var kalinza={isMobile:{Android:function Android(){return navigator.userAgent.match(/Android/i)},BlackBerry:function BlackBerry(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function iOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function Opera(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function Windows(){return navigator.userAgent.match(/IEMobile/i)},any:function any(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},accordion:function accordion(){$(".accordion > li:eq(0) a.city-dropdown").addClass("active").next().slideDown();$(document).on("click",".accordion a.city-dropdown",function(e){var dropDown=$(this).closest("li").find("div.main");$(this).closest(".accordion").find("div.main").not(dropDown).slideUp();if($(this).hasClass("active")){$(this).removeClass("active")}else{$(this).closest(".accordion").find("a.city-dropdown active").removeClass("active");$(this).addClass("active")}dropDown.stop(false,true).slideToggle();e.preventDefault()})},phoneMask:function phoneMask(_this){if($.fn.inputmask){_this.inputmask({mask:"+7 999 999-99-99",placeholder:"*"})}},emailMask:function emailMask(_this){if($.fn.inputmask){new Inputmask("email").mask(_this)}},indexMask:function indexMask(_this){if($.fn.inputmask){_this.inputmask({mask:"999999",placeholder:"_"})}},innMask:function innMask(_this){if($.fn.inputmask){_this.inputmask({mask:"9999999999[99]",placeholder:"_"})}},masks:function masks(){var phoneInputs=['input[name="phone"]','input[name="ORDER_PROP_3"]'];var emailInputs=['input[name="email"]'];var indexInputs=[];var innInputs=[];phoneInputs.forEach(function(input){kalinza.phoneMask($(input))});emailInputs.forEach(function(input){kalinza.emailMask($(input))});indexInputs.forEach(function(input){kalinza.indexMask($(input))});innInputs.forEach(function(input){kalinza.innMask($(input))})},numberFormat:function numberFormat(number,decimals,dec_point,separator){number=(number+"").replace(/[^0-9+\-Ee.]/g,"");var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=typeof separator==="undefined"?",":separator,dec=typeof dec_point==="undefined"?".":dec_point,s="",toFixedFix=function toFixedFix(n,prec){var k=Math.pow(10,prec);return""+(Math.round(n*k)/k).toFixed(prec)};s=(prec?toFixedFix(n,prec):""+Math.round(n)).split(".");if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}if((s[1]||"").length<prec){s[1]=s[1]||"";s[1]+=new Array(prec-s[1].length+1).join("0")}return s.join(dec)},setPoliticsNoticeCookie:function setPoliticsNoticeCookie(){$.cookie("BITRIX_POLITICS_NOTICE",true,{expires:365,path:"/",secure:true})},scrollToTop:function scrollToTop(){var scrollingAtTop=$(document).scrollTop();if(scrollingAtTop>480&&!min){$("#scroll-to-top").fadeIn();min=true}if(scrollingAtTop<=480&&min){$("#scroll-to-top").fadeOut();min=false}},mobileMenu:function mobileMenu(){var hamburger=".header--mobile--menu";var menu=".header--mobile--menu-popup";var menuClose=".mobile-menu--close";var menuFolder=".mobile-menu--menu--folder";$(document).on("click",hamburger,function(){$(menu).addClass("active")}).on("click",menuClose,function(){$(menu).removeClass("active")}).on("click",menuFolder,function(){$(this).find(".kalinza-icon").toggleClass("active");$(this).next("ul").slideToggle()})},mobileFilter:function mobileFilter(){$(document).on("click",".mobile-filter",function(){$(".bx-filter").addClass("wrap")}).on("click",".bx-filter-close",function(){$(".bx-filter").removeClass("wrap")})},quantity:function quantity(){$(document).on("click",".quan",function(){var step=$("input#box-1").is(":checked")?1:2;var input=$(this).siblings("input");var value=parseInt(input.val());if($(this).hasClass("quan-plus")){while(step){value++;step--}}else if($(this).hasClass("quan-minus")){while(step){value--;step--}value=value<=0?1:value}else{return false}input.val(value)})},imageChanger:function imageChanger(){$(document).on("click",".catalog-element-images-more ul li > div",function(){var img=$(this).data("img");var imgFull=$(this).data("img-full");$(".catalog-element-images-main a").attr("href",imgFull);$(".catalog-element-images-main a img").attr("src",img)})}};window.onresize=function(){kalinza.scrollToTop()};window.onload=function(){kalinza.masks()};$(document).ajaxComplete(function(){kalinza.masks()});$(document).scroll(function(){kalinza.scrollToTop()});$("[href='#top']").mPageScroll2id();kalinza.accordion();kalinza.quantity();kalinza.mobileMenu();kalinza.mobileFilter();kalinza.imageChanger()})(jQuery);